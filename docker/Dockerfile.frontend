FROM node:20-bullseye

WORKDIR /app

RUN npm install -g expo-cli

COPY package.json package-lock.json* pnpm-lock.yaml* yarn.lock* ./ 2>/dev/null || true

COPY frontend ./frontend

WORKDIR /app/frontend

RUN npm install

EXPOSE 8081
EXPOSE 19000
EXPOSE 19001
EXPOSE 19002

CMD ["npm", "run", "start", "--", "--tunnel"]

